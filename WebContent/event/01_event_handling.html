<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
		<!-- jQuery library -->
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
		<!-- Popper JS -->
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<!-- Latest compiled JavaScript -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
		<script>
		
			
			var isValidatedLoginData = true;
			
			function checkUserId(){
				//Id 유효성 검사
				let uid = $("#userId");
				let uidValue = uid.val();
				let uidPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,10}$/;
				let uidTest = uidPattern.test(uidValue);
				if(uidTest){
					uid.removeClass("bg-danger");
					uid.addClass("bg-success");
					console.log("아이디 굿");
				}else{
					uid.removeClass("bg-success");
					uid.addClass("bg-danger");
					isValidatedLoginData = false;
					console.log("아이디 배드");
				}
			}
			
			function checkUserPassword(){
				//Password 유효성 검사 
				let password = $("#userPass");
				let passwordValue = password.val();
	            var passwordPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,15}$/; 
	            var passwordPatternTest = passwordPattern.test(passwordValue);
	            if(passwordPatternTest) {
	            	password.removeClass("bg-danger");
	            	password.addClass("bg-success");
	            	console.log("비밀번호 굿");
	            } else {
	            	password.removeClass("bg-success");
	            	password.addClass("bg-danger");
	            	isValidatedLoginData = false;
	            	console.log("비밀번호 배드");
	            }
			}
			
			function login(){
				checkUserId();
				checkUserPassword();
				if(isValidatedLoginData){
					//제이쿼리 객체는 submit 메소드가 없음 
					let loginForm = document.querySelector("#loginForm");
					loginForm.submit();
				}
			}
		</script>
	</head>
	<body>
		<div class="card">
	      <div class="card-header">Event Handling</div>
	
	      <div class="card-body">
	      	<div class = "border" 
	      		 style = "width : 100px; height : 100px"
	      		 onclick = "fun1()"
	      		 onmouseenter = "fun2()"
	      		 onmouseleave = "fun2()"></div>
	      </div>
	    </div>
	    <form id = "loginForm">
	    	아이디 : <input type = "text" id = "userId" name = "userId" onfocusout = "checkUserId()"/><br/>
	    	비밀번호: <input type = "text" id = "userPass" name = "userPass" onfocusout = "checkUserPassword()"/><br/>
	    	<button type = "button" onclick = "login()">로그인</button>
	    </form>
	    
	</body>
</html>